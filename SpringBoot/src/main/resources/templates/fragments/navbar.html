<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<!-- Navigation -->
<nav class="navbar" th:fragment="navbar">
  <div class="nav-container">
    <div class="nav-left">
      <a th:href="@{/}" class="nav-link">Главная</a>
      <a th:href="@{/players}" class="nav-link">Игроки</a>
    </div>

    <!-- Если пользователь вошёл -->
    <div class="nav-right" th:if="${#authentication.principal != 'anonymousUser'}">
      <span th:text="${name}"></span>
      <a th:href="@{/notifications}" class="nav-link notification-link">
        <i class="fas fa-bell"></i>
        Уведомления
        <span th:if="${unreadNotificationsCount != null and unreadNotificationsCount > 0}"
              class="notification-badge"
              th:text="${unreadNotificationsCount}">
        </span>
      </a>
      <a th:href="@{/profile}" class="nav-link">
        <i class="fas fa-user"></i>
        Профиль
      </a>
      <form th:action="@{/logout}" method="post" style="display: inline;">
        <button type="submit" class="btn btn-secondary">Выйти</button>
      </form>
    </div>

    <!-- Если пользователь не вошёл -->
    <div class="nav-right" th:unless="${#authentication.principal != 'anonymousUser'}">
      <a th:href="@{/login}" class="nav-link">Вход</a>
      <a th:href="@{/register}" class="btn btn-primary">Регистрация</a>
    </div>
  </div>
</nav>
</body>
</html>